# Prefix on Ctrl-a (like GNU screen)
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Splits (tmux: -h = left/right, -v = top/bottom)
bind v split-window -h   # side-by-side (left/right)
bind s split-window -v   # stacked (top/bottom)
unbind '"'
unbind %

# Fast pane nav (no prefix)
bind -n C-h select-pane -L
bind -n C-j select-pane -D
bind -n C-k select-pane -U
bind -n C-l select-pane -R
bind C-a last-pane

# Reload config
bind r source-file ~/.tmux.conf \; display-message "Config reloaded!"

# Mouse + copy-mode (macOS clipboard)
set -g mouse on
set -g mode-keys vi
set -g set-clipboard on               # tmux â‰¥3.2: advertise OSC52/system clipboard

# Enter copy-mode with scroll, and make wheel just work
bind -n WheelUpPane if-shell -F "#{pane_in_mode}" "send-keys -M" "copy-mode -e"
bind -T copy-mode-vi WheelUpPane   send-keys -X scroll-up
bind -T copy-mode-vi WheelDownPane send-keys -X scroll-down

# Vi-style selection and yank to macOS clipboard
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"
bind -T copy-mode-vi Y send-keys -X copy-line

# Colours / terminfo
# Prefer tmux-256color if present; else keep screen-256color but enable truecolour
set -g default-terminal "tmux-256color"
set -as terminal-overrides ",xterm-256color:RGB,tmux-256color:RGB"

# Scrollback
set -g history-limit 10000

# Pane borders
set -g pane-border-style fg=colour238
set -g pane-active-border-style fg=brightblue
